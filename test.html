<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Responsive Slider</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        /* CSS Variables - added placeholders */
        :root {
            --pill: #ffffff; /* Example color for text stroke */
            --white: #ffffff;
        }

        /* MAIN: Slider Section - Focused CSS */
        main {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        /* The main container for each slide */
        article {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            /* Uses the CSS variable from the HTML to control z-index */
            z-index: var(--i); 
        }

        /* Text overlay container */
        .hero-info {
            position: absolute;
            top: 50%;
            left: 5%;
            transform: translateY(-50%);
            z-index: 8;
            padding: 0 15px; /* Added padding for small screens */
        }
        
        .hero-info h2 {
            font-size: clamp(2rem, 9vw, 5rem);
            line-height: clamp(2rem, 9vw, 5rem);
            text-transform: uppercase;
        }
        
        .hero-info h1 {
            color: var(--white);
            font-size: clamp(3.2rem, 10vw, 7rem);
            line-height: clamp(3.2rem, 10vw, 7rem);
            text-transform: uppercase;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);
        }
        
        .hero-info h3 {
            color: var(--white);
            font-size: 1.6rem;
            font-weight: normal;
            margin-top: 2em;
        }
        
        /* Text Stroke Effect for h2 */
        @supports (-webkit-text-stroke: 3px var(--pill)) {
            .hero-info h2 {
                color: transparent;
                -webkit-text-stroke: 3px var(--pill);
                text-shadow: none;
            }
        }

        /* Image container for clip-path animation */
        .hero-image {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            /* Initial state clip-path for visibility */
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%); 
        }

        /* Background Images */
        .hi-1 {
            background-image: url("https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80");
        }
        .hi-2 {
            background-image: url("https://images.unsplash.com/photo-1517057011470-8f36d636e6ca?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80");
        }
        .hi-3 {
            background-image: url("https://images.unsplash.com/flagged/photo-1552035791-b3cc1632e933?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2069&q=80");
        }
        .hi-4 {
            background-image: url("https://images.unsplash.com/photo-1574700273608-7962d3602a9f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80");
        }
        .hi-5 {
            background-image: url("https://images.unsplash.com/photo-1605045544284-d13c6d6a60a6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80");
        }
    </style>
</head>
<body>

    <main>
        <article id="hero-1" style="--i: 5">
            <div class="hero-info">
                <h2>Travel the</h2>
                <h1>World</h1>
                <h3>Pragser Wildsee, Italy</h3>
            </div>
            <div class="hero-image hi-1"></div>
        </article>

        <article id="hero-2" style="--i: 4">
            <div class="hero-info">
                <h2>Savour the</h2>
                <h1>Journey</h1>
                <h3>Marignier, France</h3>
            </div>
            <div class="hero-image hi-2"></div>
        </article>

        <article id="hero-3" style="--i: 3">
            <div class="hero-info">
                <h2>Expand Your</h2>
                <h1>Horizons</h1>
                <h3>Hooker Valley Track, New Zealand</h3>
            </div>
            <div class="hero-image hi-3"></div>
        </article>

        <article id="hero-4" style="--i: 2">
            <div class="hero-info">
                <h2>Explore and</h2>
                <h1>Reflect</h1>
                <h3>Dolmites, Italy</h3>
            </div>
            <div class="hero-image hi-4"></div>
        </article>

        <article id="hero-5" style="--i: 1">
            <div class="hero-info">
                <h2>Change Your</h2>
                <h1>Perspective</h1>
                <h3>Phuket, Thailand</h3>
            </div>
            <div class="hero-image hi-5"></div>
        </article>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        // JS for the automatic slider animation using GSAP

        let i = 1;
        let del = 3; // Delay time between slide transitions

        // Create a GSAP timeline for the looping animation
        let tl = gsap.timeline({
            repeat: -1, // Repeat indefinitely
            // yoyo: true, // Removed yoyo as it's not consistent with the original logic which just advances slides
            ease: "power2.inOut" // Changed from expo.out for a smoother feel in a loop
        });

        // 1. Set initial state for all elements
        // Text for the first slide is visible (full clip-path)
        gsap.set(["#hero-1 h2, #hero-1 h1, #hero-1 h3"], {
            clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"
        });

        // Text for all other slides is hidden (collapsed clip-path)
        gsap.set(
            [
                `#hero-2 h2, #hero-3 h2, #hero-4 h2, #hero-5 h2`,
                `#hero-2 h1, #hero-3 h1, #hero-4 h1, #hero-5 h1`,
                `#hero-2 h3, #hero-3 h3, #hero-4 h3, #hero-5 h3`
            ],
            {
                clipPath: "polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"
            }
        );
        
        // 2. Loop through the slides to create the transition sequence
        // We go from hero-1 to hero-5, then the timeline loops back to hero-1 due to `repeat: -1`
        const totalSlides = 5;

        while (i <= totalSlides) {
            // Define the current and next slide index
            const current = i;
            const next = (i % totalSlides) + 1; // Correctly loops 5 -> 1

            // 2a. Animate OUT the current slide's text
            tl.to(`#hero-${current} h2`, 0.9, {
                clipPath: "polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)",
                delay: del // Wait for the delay time
            })
            .to(
                `#hero-${current} h1`,
                0.9,
                {
                    clipPath: "polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"
                },
                "-=0.3" // Starts 0.3s before h2 finishes
            )
            .to(
                `#hero-${current} h3`,
                0.9,
                {
                    clipPath: "polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"
                },
                "-=0.3" // Starts 0.3s before h1 finishes
            )
            
            // 2b. Animate OUT the current slide's image (to reveal the next slide which is under it)
            // The next slide's article has a lower z-index and is already fully visible, 
            // but its content is hidden until this step.
            .to(
                `#hero-${current} .hi-${current}`,
                0.7,
                {
                    clipPath: "polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"
                },
                "-=1" // Starts 1s before h3 finishes, making the transition seamless
            )
            
            // 2c. Animate IN the next slide's text
            .to(`#hero-${next} h2`, 0.9, {
                clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"
            })
            .to(
                `#hero-${next} h1`,
                0.9,
                {
                    clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"
                },
                "-=0.3" // Starts 0.3s before h2 finishes
            )
            .to(
                `#hero-${next} h3`,
                0.9,
                {
                    clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"
                },
                "-=0.3" // Starts 0.3s before h1 finishes
            );

            i++;
        }
        
        // After the loop, the timeline will have steps for 1->2, 2->3, 3->4, 4->5.
        // The last iteration (i=5) will transition FROM hero-5 TO hero-6 (which is hero-1 via modulo logic, but the loop ends at i=5).
        // Since the original code had `while (i < 5)`, it only created transitions for 1->2, 2->3, 3->4, 4->5. 
        // I have modified the loop to run through all 5 slides, ensuring the transition from 5 back to 1 is included.
    </script>

</body>
</html>